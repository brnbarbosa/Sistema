{% extends "layout.html" %}

{% block title %}
    Adiantamentos
{% endblock %}

{% block main %} 
    <div class='d-flex justify-content-between flex-warp flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom'>
        <h1 class='h2'>Relat√≥rios</h1>
            <form action='adiantamentos' method='POST'>
                <div class='form-group'>
                    <!--Selection - Cliente-->
                        <select title='Selecione o Cliente' alt='Selecione o Cliente' class="form-control" name="cliente" required>
                            <option disabled selected value>Cliente</option>
                        {% for row in cliente %}
                            <option value="{{ row['nome'] }}">{{ row['nome'] }}</option>
                        {% endfor %}
                        </select>  
                        <input title='Valor adiantado' alt='Valor adiantado' name='valor' autofocus class='form-control' placeholder='Valor' type='number' step='0.01' data-mask='000.000,00' required>
                        <input title='Data do adiantamento' alt='Data do adiantamento'name='data' autofocus class='form-control' placeholder='Data do AD' type='date' required>             
                </div>
                <button type='submit' class='btn btn-sm btn-outline-secondary'>Cadastrar</button>
            </form>
    </div>
    <div class='d-flex justify-content-between flex-warp flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom'>
        <div class='table-responsive'>
            <table class='table table-striped table-sm'>
                <thead>
                    <tr>
                        <th>Cliente</th>
                        <th>Data</th>
                        <th>Valor</th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in adiantamento %}
                        <tr>
                            <td>{{ row['nome'] }}</td>
                            {% set lt = row['data'].split('-') %}
                            <td>{{ lt[2]+'/'+lt[1]+'/'+lt[0] }}</td>
                            <td>{{ row['valor'] }}</td>
                        </tr>
                    {% endfor %}
                </tbody>

            </table>
        </div>
    </div>
{% endblock %}